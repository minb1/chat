<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="generator" content="ReSpec 35.2.2">
    <title>NLGov REST API Design Rules 2.0.2</title>

    <!-- Original Styles -->
    <style>
        .issue-label{text-transform:initial}
        .warning>p:first-child{margin-top:0}
        .warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
        span.warning{padding:.1em .5em .15em}
        .issue.closed span.issue-number{text-decoration:line-through}
        .issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
        .warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
        .warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
        li.task-list-item{list-style:none}
        input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
        .issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
    </style>
    <style>
        dfn{cursor:pointer}
        .dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
        .dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
        .dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
        .dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
        .dfn-panel *{margin:0}
        .dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
        .dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
        .dfn-panel>div{display:flex}
        .dfn-panel a.self-link{font-weight:700;margin-right:auto}
        .dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
        .dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
        .dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
        .dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
        .dfn-panel a[href]:hover{border-bottom-width:1px}
        .dfn-panel ul{padding:0}
        .dfn-panel li{margin-left:1em}
        .dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
    </style>
    <link href="./media/style.css" rel="stylesheet" type="text/css">
    <link href="https://gitdocumentatie.logius.nl/publicatie/respec/style/logos/logius.ico" rel="shortcut icon" type="image/x-icon">
    <style id="respec-mainstyle">
        @keyframes pop{
        0%{transform:scale(1,1)}
        25%{transform:scale(1.25,1.25);opacity:.75}
        100%{transform:scale(1,1)}
        }
        a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
        a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
        a.bibref{text-decoration:none}
        .respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
        .respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
        @supports not (text-decoration:red wavy underline){
        .respec-offending-element:not(pre){display:inline-block}
        .respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
        }
        #references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
        cite .bibref{font-style:normal}
        a[href].orcid{padding-left:4px;padding-right:4px}
        a[href].orcid>svg{margin-bottom:-2px}
        ol.tof,ul.tof{list-style:none outside none}
        .caption{margin-top:.5em;font-style:italic}
        #issue-summary>ul{column-count:2}
        #issue-summary li{list-style:none;display:inline-block}
        details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
        details.respec-tests-details>*{padding-right:2em}
        details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
        details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
        details.respec-tests-details>ul{width:100%;margin-top:-.3em}
        details.respec-tests-details>li{padding-left:1em}
        .self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
        aside.example .marker>a.self-link{color:inherit}
        .header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
        :is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
        :is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
        :is(h2,h3)+a.self-link{top:-.2em}
        :is(h4,h5,h6)+a.self-link::before{color:#000}
        @media (max-width:767px){
        dd{margin-left:0}
        }
        @media print{
        .removeOnSave{display:none}
        }
    </style>
    <style id="respec-nlgov">
        img.license{float:left;padding-right:5px}
    </style>
    <meta name="color-scheme" content="light">
    <meta name="description" content="This document contains a normative standard for designing APIs in the Dutch Public Sector.
The Governance of this standard is described by the API-Standaarden beheermodel in a separate repository and published by Logius.
This document is part of the Nederlandse API Strategie, which consists of a set of documents.">
    <style>
        .hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
        @media (prefers-color-scheme:dark){
        .hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
        }
        .hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
        .hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
        .hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
        .hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
        .hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
        .hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
        .hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
        .hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
        .hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
        .hljs-emphasis{font-style:italic}
        .hljs-strong{font-weight:700}
        .hljs-link{text-decoration:underline}
    </style>
    <style>
        .sidelabel {
            position: fixed;
            -webkit-transform-origin: top right;
            right: 100%;
            top: 0;
            -webkit-transform: rotate(-90deg);
            padding: 4px 50px 4px 10px;
            color: white;
            white-space: nowrap;
            z-index: 1;
            background-color: #154273;
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
        "nl_organisationName": "Logius",
        "nl_organisationStylesURL": "https://gitdocumentatie.logius.nl/publicatie/respec/style/",
        "nl_organisationPublishURL": "https://gitdocumentatie.logius.nl/publicatie/",
        "logos": [
            {
            "src": "https://gitdocumentatie.logius.nl/publicatie/respec/style/logos/figure-logius.svg",
            "alt": "Logius",
            "id": "Logius",
            "height": 77,
            "width": 44,
            "url": "https://www.logius.nl/onze-dienstverlening/standaarden"
            }
        ],
        "latestVersion": [
            "nl_organisationPublishURL",
            "pubDomain",
            "/",
            "shortName",
            "/"
        ],
        "thisVersion": [
            "nl_organisationPublishURL",
            "pubDomain",
            "/",
            "shortName",
            "/",
            "publishVersion",
            "/"
        ],
        "prevVersion": [
            "nl_organisationPublishURL",
            "pubDomain",
            "/",
            "shortName",
            "/",
            "previousPublishVersion",
            "/"
        ],
        "useLogo": true,
        "useLabel": true,
        "license": "cc-by",
        "addSectionLinks": true,
        "localizationStrings": {
            "en": {
            "wv": "Draft",
            "cv": "Consultation version",
            "vv": "Proposed version",
            "def": "Definitive version",
            "basis": "Document",
            "eo": "Outdated version",
            "tg": "Rescinded version",
            "no": "Norm",
            "st": "Standard",
            "im": "Information model",
            "pr": "Guideline",
            "hr": "Guide",
            "wa": "Proposed recommendation",
            "al": "General",
            "bd": "Governance documentation",
            "bp": "Best practice"
            },
            "nl": {
            "wv": "Werkversie",
            "cv": "Consultatieversie",
            "vv": "Versie ter vaststelling",
            "def": "Vastgestelde versie",
            "basis": "Document",
            "eo": "Verouderde versie",
            "tg": "Teruggetrokken versie",
            "no": "Norm",
            "st": "Standaard",
            "im": "Informatiemodel",
            "pr": "Praktijkrichtlijn",
            "hr": "Handreiking",
            "wa": "Werkafspraak",
            "al": "Algemeen",
            "bd": "Beheerdocumentatie",
            "bp": "Best practice"
            }
        },
        "sotdText": {
            "nl": {
            "sotd": "Status van dit document",
            "def": "Dit is de definitieve versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
            "wv": "Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen door het TO goedgekeurde consultatieversie.",
            "cv": "Dit is een door het TO goedgekeurde consultatieversie. Commentaar over dit document kan gestuurd worden naar digikoppeling@logius.nl",
            "vv": "Dit is een definitief concept van de nieuwe versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
            "basis": "Dit is een document zonder officiële status."
            },
            "en": {
            "sotd": "Status of This Document",
            "def": "This is the definitive version of this document. Edits resulting from consultations have been applied.",
            "wv": "This is a draft that could be altered, removed or replaced by other documents. It is not a recommendation approved by TO.",
            "cv": "This is a proposed recommendation approved by TO. Comments regarding this document may be sent to api@logius.nl",
            "vv": "This is the definitive concept of this document. Edits resulting from consultations have been applied.",
            "basis": "This document has no official standing."
            }
        },
        "labelColor": {
            "def": "#154273",
            "wv": "#39870c",
            "cv": "#000000",
            "vv": "#000000"
        },
        "licenses": {
            "cc0": {
            "name": "Creative Commons 0 Public Domain Dedication",
            "short": "CC0",
            "url": "https://creativecommons.org/publicdomain/zero/1.0/",
            "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-zero.svg"
            },
            "cc-by": {
            "name": "Creative Commons Attribution 4.0 International Public License",
            "short": "CC-BY",
            "url": "https://creativecommons.org/licenses/by/4.0/legalcode",
            "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by.svg"
            },
            "cc-by-nd": {
            "name": "Creative Commons Naamsvermelding-GeenAfgeleideWerken 4.0 Internationaal",
            "short": "CC-BY-ND",
            "url": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
            "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by-nd.svg"
            }
        },
        "localBiblio": {
            "ADR": {
            "authors": [
                "Jasper Roes",
                "Joost Farla"
            ],
            "date": "Juli 2020",
            "href": "https://gitdocumentatie.logius.nl/publicatie/api/adr/",
            "publisher": "Logius",
            "title": "API Design Rules (Nederlandse API Strategie IIa)"
            },
            "ADR-ext": {
            "authors": [
                "Jasper Roes",
                "Linda van den Brink"
            ],
            "date": "Januari 2020",
            "href": "https://docs.geostandaarden.nl/api/API-Strategie-ext",
            "publisher": "Geonovum/Kennisplatform APi's",
            "title": "API Designrules Extensions (Nederlandse API Strategie IIb)"
            },
            "Algemene Voorwaarden Logius": {
            "date": "12 juni 2018",
            "href": "https://www.logius.nl/onze-organisatie/zakendoen-met-logius/voorwaarden/algemene-voorwaarden-logius",
            "publisher": "Logius",
            "title": "Algemene voorwaarden Logius"
            },
            "AVG": {
            "date": "27 april 2016",
            "href": "https://eur-lex.europa.eu/legal-content/NL/TXT/?uri=CELEX%3A32016R0679",
            "publisher": "Verordening (EU) 2016/679 van het Europees Parlement",
            "title": "Algemene Verordening Gegevensbescherming"
            },
            "BCP195": {
            "authors": [
                "Y. Sheffer",
                "R. Holz",
                "P. Saint-Andre"
            ],
            "date": "May 2015",
            "href": "https://tools.ietf.org/html/bcp195",
            "publisher": "IETF",
            "title": "Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)"
            },
            "DK-beveiliging": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/beveilig/",
            "publisher": "Logius",
            "title": "Digikoppeling Beveiligingsstandaarden en voorschriften"
            },
            "CloudEvents": {
            "authors": [
                "@@@"
            ],
            "date": "May 2011",
            "href": "https://github.com/cloudevents/spec/blob/v1.0.1/spec.md",
            "publisher": "@@@",
            "title": "CloudEvents - Version 1.0.1"
            },
            "NLGOV-CloudEvents": {
            "authors": [
                "Werkgroep Berichtenstandaard (Project Notificatieservices)"
            ],
            "href": "https://logius-standaarden.github.io/NL-GOV-profile-for-CloudEvents/",
            "publisher": "Logius",
            "title": "NL GOV profile for CloudEvents"
            },
            "DK-CV": {
            "href": "https://gitlab.com/logius/digikoppeling-compliance",
            "publisher": "Logius",
            "title": "Digikoppeling Compliance Voorziening"
            },
            "DK-Portaal": {
            "href": "https://oinregister.logius.nl/",
            "publisher": "Logius",
            "title": "Digikoppeling Portaal"
            },
            "DK-WUS-voorbeeld": {
            "href": "https://www.logius.nl/sites/default/files/public/bestanden/diensten/DigiKoppeling/Overig/Digikoppeling-Koppelvlakstandaard-WUS-Voorbeeldberichten.zip",
            "publisher": "Logius",
            "title": "Set voorbeeldberichten (zip)"
            },
            "Deployment Guide 1.1": {
            "authors": [
                "Pete Wenzel",
                "Jacques Durand"
            ],
            "date": "June 2005",
            "href": "http://www.oasis-open.org/apps/org/workgroup/ebxml-iic-deployment-profile-template-intro-100406.doc",
            "publisher": "OASIS",
            "title": "Deployment Profile Template For OASIS ebXML Message Service 2.0"
            },
            "DK": {
            "href": "https://www.logius.nl/domeinen/gegevensuitwisseling/digikoppeling",
            "publisher": "Logius",
            "title": "Logius | Digikoppeling"
            },
            "DK-Doc": {
            "href": "https://www.logius.nl/domeinen/gegevensuitwisseling/digikoppeling/documentatie",
            "publisher": "Logius",
            "title": "Digikoppeling documentatie"
            },
            "DK-Beheermodel": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/beheer/",
            "publisher": "Logius",
            "title": "Digikoppeling Beheermodel"
            },
            "DK-BPebMS": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/bpebms/",
            "publisher": "Logius",
            "title": "Digikoppeling Best Practices ebMS2"
            },
            "DK-BPGB": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/bpgb/",
            "publisher": "Logius",
            "title": "Digikoppeling Best Practices Grote Berichten"
            },
            "DK-BPWUS": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/bpwus/",
            "publisher": "Logius",
            "title": "Digikoppeling Best Practices WUS"
            },
            "DK-Beveiliging": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/beveilig/",
            "publisher": "Logius",
            "title": "Digikoppeling Beveiligingsstandaarden en voorschriften"
            },
            "DK-gbachtcert": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/ebms/",
            "publisher": "Logius",
            "title": "Digikoppeling Koppelvlakstandaard ebMS2"
            },
            "DK-ebMS": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/ebms/",
            "publisher": "Logius",
            "title": "Digikoppeling Koppelvlakstandaard ebMS2"
            },
            "DK-GB": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/gb/",
            "publisher": "Logius",
            "title": "Digikoppeling Koppelvlakstandaard Grote Berichten"
            },
            "DK-WUS": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/wus/",
            "publisher": "Logius",
            "title": "Digikoppeling Koppelvlakstandaard WUS"
            },
            "DK-RESTAPI": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/restapi/",
            "publisher": "Logius",
            "title": "Digikoppeling Koppelvlakstandaard REST-API"
            },
            "DK-Architectuur": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/architectuur/",
            "publisher": "Logius",
            "title": "Digikoppeling Architectuur"
            },
            "DK-IDAuth": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/idauth/",
            "publisher": "Logius",
            "title": "Digikoppeling Identificatie en Authenticatie"
            },
            "DK-WI": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/dk/watisdk/",
            "publisher": "Logius",
            "title": "Wat is Digikoppeling?"
            },
            "BOMOSFundament": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/bomos/fundament/",
            "date": "2 november 2023",
            "publisher": "Logius",
            "title": "BOMOS, het fundament"
            },
            "BOMOSVerdieping": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/bomos/verdieping/",
            "date": "2 november 2023",
            "publisher": "Logius",
            "title": "BOMOS, de verdieping"
            },
            "ebCPP": {
            "authors": [
                "Oasis"
            ],
            "date": "september 2002",
            "href": "http://www.ebxml.org/specs/ebcpp-2.0.pdf",
            "publisher": "Oasis",
            "title": "Collaboration-Protocol Profile and Agreement Specification Version 2.0"
            },
            "ebMS3": {
            "authors": [
                "Ian Jones",
                "Pete Wenzel"
            ],
            "date": "October 2007",
            "href": "https://docs.oasis-open.org/ebxml-msg/ebms/v3.0/core/os/ebms_core-3.0-spec-os.html",
            "publisher": "Oasis",
            "title": "Collaboration-Protocol Profile and Agreement Specification Version 2.0"
            },
            "eDelivery API4IPS": {
            "authors": [
                "J. Dimitriou, V. Veduta, B. Dumitriu"
            ],
            "date": "sept 8 2022",
            "href": "https://ec.europa.eu/digital-building-blocks/wikis/display/EDELCOMMUNITY/Project+deliverables",
            "publisher": "OpenID foundation",
            "title": "(ISA2).(eDelivery).(Piloting a REST API extension of CEF eDelivery).(ISA² IPS REST API Profile).(v1.0).pdf"
            },
            "Expert": {
            "authors": [
                "@@@"
            ],
            "date": "@@@",
            "href": "https://www.forumstandaardisatie.nl/sites/bfs/files/@@@.pdf",
            "publisher": "Forum Standaardisatie",
            "title": "Expertadvies CloudEvents 1.0"
            },
            "folmer2011": {
            "href": "https://research.utwente.nl/en/publications/management-and-development-model-for-open-standards-bomos-version",
            "title": "Management and Development Model for Open Standards (BOMOS) version 2",
            "keywords": "IR-76837",
            "authors": [
                "ErwinFolmer",
                "Matthijs Punter"
            ],
            "date": "2011",
            "language": "English",
            "publisher": "Programmabureau NOiV"
            },
            "folmer2012": {
            "href": "https://research.utwente.nl/en/publications/quality-of-semantic-standards",
            "title": "Quality of Semantic Standards",
            "authors": [
                "Erwin Folmer"
            ],
            "date": "2012",
            "publisher": "Universiteit Twente"
            },
            "DK-Gebruiksvoorwaarden": {
            "date": "1 januari 2021",
            "href": "https://www.logius.nl/domeinen/gegevensuitwisseling/digikoppeling/documentatie/gebruiksvoorwaarden-digikoppeling",
            "publisher": "Logius",
            "title": "Gebruiksvoorwaarden Digikoppeling"
            },
            "ADR-GEO": {
            "authors": [
                "L. van den Brink, P. Bresters, P. van Genuchten, G. Mathijssen, M. Strijker"
            ],
            "date": "March 07, 2024",
            "href": "https://gitdocumentatie.logius.nl/publicatie/api/mod-geo/",
            "publisher": "Geonovum",
            "title": "API Design Rules Module: Geospatial",
            "id": "adr-geo"
            },
            "HTTPS-factsheet NCSC": {
            "date": "Nov 2014",
            "href": "https://www.ncsc.nl/documenten/factsheets/2019/juni/01/factsheet-https-kan-een-stuk-veiliger",
            "publisher": "NCSC",
            "title": "Factsheet HTTPS kan een stuk veiliger"
            },
            "iGOV.OpenID": {
            "authors": [
                "M. Varley, P. Grassi"
            ],
            "date": "October 5 2018",
            "href": "https://openid.net/specs/openid-igov-openid-connect-1_0.html",
            "publisher": "OpenID foundation",
            "title": "International Government Assurance Profile (iGov) for OpenID Connect 1.0 - draft 3"
            },
            "NLGOV.OpenID": {
            "authors": [
                "Remco Schaar, Frank van Es, Joris Joosten, Jan Geert Koops"
            ],
            "href": "https://gitdocumentatie.logius.nl/publicatie/api/oidc/",
            "publisher": "Logius",
            "title": "OpenID NLGov"
            },
            "Introspection": {
            "authors": [
                "J. Richer"
            ],
            "date": "October 2015",
            "href": "https://tools.ietf.org/html/rfc7662",
            "publisher": "IETF",
            "title": "OAuth 2.0 Token Introspection"
            },
            "JWA": {
            "authors": [
                "M. Jones"
            ],
            "date": "may 2015",
            "href": "https://tools.ietf.org/html/rfc7518",
            "publisher": "IETF",
            "title": "JSON Web Algorithms (JWA)"
            },
            "JWE": {
            "authors": [
                "M. Jones, J. Hildebrand"
            ],
            "date": "may 2015",
            "href": "https://tools.ietf.org/html/rfc7516",
            "publisher": "IETF",
            "title": "JSON Web Encryption (JWE)"
            },
            "JWK": {
            "authors": [
                "M. Jones"
            ],
            "date": "may 2015",
            "href": "https://tools.ietf.org/html/rfc7517",
            "publisher": "IETF",
            "title": "JSON Web Key (JWK))"
            },
            "JWS": {
            "authors": [
                "M. Jones, J. Bradley, N. Sakimura"
            ],
            "date": "may 2015",
            "href": "https://tools.ietf.org/html/rfc7515",
            "publisher": "IETF",
            "title": "JSON Web Signature (JWS)"
            },
            "JWT": {
            "authors": [
                "M. Jones, J. Bradley, N. Sakimura"
            ],
            "date": "may 2015",
            "href": "https://tools.ietf.org/html/rfc7519",
            "publisher": "IETF",
            "title": "JSON Web Token (JWT)"
            },
            "NCSC 2019": {
            "date": "April 2019",
            "href": "https://www.ncsc.nl/documenten/publicaties/2019/mei/01/ict-beveiligingsrichtlijnen-voor-transport-layer-security-tls",
            "publisher": "NCSC",
            "title": "ICT-beveiligingsrichtlijnen voor Transport Layer Security (TLS) v2.0"
            },
            "NCSC 2021": {
            "date": "Jan 2021",
            "href": "https://www.ncsc.nl/documenten/publicaties/2021/januari/19/ict-beveiligingsrichtlijnen-voor-transport-layer-security-2.1",
            "publisher": "NCSC",
            "title": "ICT-beveiligingsrichtlijnen voor Transport Layer Security (TLS) v2.1"
            },
            "NEN3610": {
            "authors": [
                ""
            ],
            "date": "Maart 2011",
            "href": "https://www.nen.nl/nen-3610-2011-a1-2016-nl-217738",
            "publisher": "Nederlands Normalisatie-instituut",
            "title": "Basismodel Geo-informatie - Termen, definities, relaties en algemene regels voor de uitwisseling van informatie over aan de aarde gerelateerde ruimtelijke objecten"
            },
            "no-Reliable-messaging": {
            "authors": [
                "Marc de Graauw"
            ],
            "date": "June 18, 2010",
            "href": "https://www.infoq.com/articles/no-reliable-messaging/",
            "publisher": "infoQ",
            "title": "Nobody Needs Reliable Messaging"
            },
            "OAuth2": {
            "authors": [
                "D. Hardt"
            ],
            "date": "October 2012",
            "href": "https://tools.ietf.org/html/rfc6749",
            "publisher": "The Internet Engineering Task Force",
            "title": "The OAuth 2.0 Authorization Framework"
            },
            "OpenID.Core": {
            "authors": [
                "N. Sakimura, J. Bradley, M. Jones, B. de Medeiros, C. Mortimore"
            ],
            "date": "November 8 2014",
            "href": "https://openid.net/specs/openid-connect-core-1_0.html",
            "publisher": "OpenID foundation",
            "title": "OpenID Connect Core 1.0"
            },
            "OpenID.Discovery": {
            "authors": [
                "N. Sakimura, J. Bradley, M. Jones, E. Jay"
            ],
            "date": "November 8 2014",
            "href": "https://openid.net/specs/openid-connect-discovery-1_0.html",
            "publisher": "OpenID foundation",
            "title": "OpenID Connect Discovery 1.0"
            },
            "Pas-toe-of-leg-uit": {
            "href": "https://www.forumstandaardisatie.nl/open-standaarden/verplicht",
            "publisher": "Forum Standaardisatie",
            "title": "Lijst Verplichte standaarden"
            },
            "PKIO-PvE": {
            "href": "https://por.pkioverheid.nl/",
            "publisher": "Logius",
            "title": "Certificate Policy/Programme of Requirements PKIoverheid"
            },
            "PKI-CA": {
            "href": "https://www.logius.nl/domeinen/toegang/aansluiten-als-trust-service-provider",
            "publisher": "Logius",
            "title": "Aansluiten als Trust Service Provider"
            },
            "PKIoverheid": {
            "href": "https://www.logius.nl/domeinen/toegang/pkioverheid",
            "publisher": "Logius",
            "title": "PKIoverheid"
            },
            "PKIO-Cert": {
            "href": "https://cert.pkioverheid.nl/",
            "publisher": "Logius",
            "title": "Overzicht PKIoverheid certificaten"
            },
            "SemVer": {
            "authors": [
                "T. Preston-Werner"
            ],
            "date": "June 2013",
            "href": "https://semver.org",
            "title": "Semantic Versioning 2.0.0",
            "id": "semver"
            },
            "ADR-TS": {
            "authors": [
                ""
            ],
            "date": "March 07, 2024",
            "href": "https://gitdocumentatie.logius.nl/publicatie/api/mod-ts/",
            "publisher": "Kennisplatform API's",
            "title": "API Design Rules Module: Transport Security",
            "id": "adr-ts"
            },
            "UMMR10": {
            "authors": [
                ""
            ],
            "date": "2001",
            "href": "https://unece.org/DAM/cefact/umm/UMM_Revision_10_2001.zip",
            "publisher": "UN/CEFACT",
            "title": "UMM Revision 10"
            },
            "UMMUG": {
            "authors": [
                ""
            ],
            "date": "2003",
            "href": "https://www.unece.org/fileadmin/DAM/cefact/umm/UMM_userguide_220606.pdf",
            "publisher": "UN/CEFACT",
            "title": "UN/CEFACT Modeling Methodology (UMM) User Guide"
            },
            "UUID": {
            "authors": [
                "P. Leach",
                "M. Mealling",
                "R. Salz"
            ],
            "date": "July 2005",
            "href": "https://tools.ietf.org/html/rfc4122",
            "publisher": "The Internet Engineering Task Force",
            "title": "A Universally Unique IDentifier (UUID) URN Namespace"
            },
            "DK-Voorwaarden": {
            "date": "1 januari 2021",
            "href": "https://www.logius.nl/domeinen/gegevensuitwisseling/digikoppeling/documentatie/voorwaarden-digikoppeling",
            "publisher": "Logius",
            "title": "Voorwaarden Digikoppeling"
            },
            "X520": {
            "href": "https://www.iso.org/standard/43796.html",
            "publisher": "ISO",
            "title": "ITU-T Recommendation X.520 (2001) ISO/IEC 9594-6"
            },
            "ADR-Validator": {
            "href": "https://gitlab.com/commonground/don/adr-validator/-/tree/v0.5.0/pkg/rulesets",
            "title": "Technical ADR Validation rule testset 0.5.0",
            "authors": [
                "H. Stijns"
            ],
            "publisher": "Geonovum",
            "date": "November 2023",
            "id": "adr-validator"
            },
            "JRC117836": {
            "href": "https://op.europa.eu/en/publication-detail/-/publication/6521f427-01df-11ea-8c1f-01aa75ed71a1",
            "title": "The Relationship Between Open Source Software and Standard Setting",
            "authors": [
                "Knut Blind",
                "Mirko Böhm"
            ],
            "editors": [
                "Nikolaus Thumm"
            ],
            "publisher": "Joint Research Center",
            "id": "JRC117836",
            "date": "2019"
            },
            "Krechmer2002": {
            "href": "https://www.isology.com/pdf/cathedrals.pdf",
            "title": "Cathedrals, Libraries and Bazaars",
            "authors": [
                "Ken Krechmer"
            ],
            "publisher": "Association of Computing Machinery (ACM)",
            "date": "March 2002"
            },
            "FSC-Core": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/fsc/core/1.0.0/",
            "title": "FSC - Core",
            "authors": [
                "Eelco Hotting",
                "Ronald Koster",
                "Henk van Maanen",
                "Niels Dequeker",
                "Edward van Gelderen",
                "Pim Gaemers"
            ],
            "publisher": "Logius"
            },
            "FSC-Logging": {
            "href": "https://gitdocumentatie.logius.nl/publicatie/fsc/logging/1.0.0/",
            "title": "FSC - Logging",
            "authors": [
                "Eelco Hotting",
                "Ronald Koster",
                "Henk van Maanen",
                "Niels Dequeker",
                "Edward van Gelderen",
                "Pim Gaemers"
            ],
            "publisher": "Logius"
            }
        },
        "alternateFormats": [
            {
            "label": "pdf",
            "uri": "API-Design-Rules.pdf"
            }
        ],
        "authors": [
            {
            "company": "Het Kadaster",
            "companyURL": "https://www.kadaster.nl",
            "name": "Jasper Roes"
            },
            {
            "company": "Het Kadaster",
            "companyURL": "https://www.kadaster.nl",
            "name": "Joost Farla"
            }
        ],
        "editors": [
            {
            "company": "Geonovum",
            "companyURL": "https://www.geonovum.nl",
            "name": "Frank Terpstra"
            },
            {
            "company": "Geonovum",
            "companyURL": "https://www.geonovum.nl",
            "name": "Jan van Gelder"
            },
            {
            "company": "Logius",
            "companyURL": "https://www.logius.nl",
            "name": "Alexander Green"
            },
            {
            "company": "Logius",
            "companyURL": "https://www.logius.nl",
            "name": "Martin van der Plas"
            }
        ],
        "github": "https://github.com/Logius-standaarden/API-Design-Rules",
        "pubDomain": "api",
        "publishDate": "2025-02-17",
        "publishVersion": "2.0.2",
        "previousPublishDate": "2025-01-07",
        "previousPublishVersion": "2.0.1",
        "shortName": "adr",
        "specStatus": "def",
        "specType": "ST",
        "pluralize": true
    }</script>
    <link rel="stylesheet" href="https://gitdocumentatie.logius.nl/publicatie/respec/style/base.css">

    <!-- START: Chat Sidebar CSS -->
    <style>
        /* Chat Sidebar Styles */
        #chat-toggle-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: #154273; /* Match theme color */
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px; /* Adjust for icon */
            line-height: 50px; /* Center icon vertically */
            text-align: center;
            cursor: pointer;
            z-index: 1001; /* Above sidebar */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.2s ease-in-out;
        }

        #chat-toggle-button:hover {
            transform: scale(1.1);
        }

        #chat-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0; /* Make it full height */
            width: 350px; /* Adjust width as needed */
            background-color: #ffffff;
            box-shadow: -3px 0 6px rgba(0,0,0,0.1);
            transform: translateX(100%); /* Initially hidden */
            transition: transform 0.3s ease-in-out;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            border-left: 1px solid #ccc;
        }

        #chat-sidebar.is-open {
            transform: translateX(0);
        }

        #chat-header {
            padding: 10px 15px;
            background-color: #f1f1f1;
            border-bottom: 1px solid #ccc;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #chat-close-button {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 0 5px;
        }

        #chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 15px;
            background-color: #fff; /* White background for messages */
            display: flex;
            flex-direction: column;
            gap: 10px; /* Space between messages */
        }

        .message {
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 85%;
            word-wrap: break-word; /* Prevent long words from overflowing */
            line-height: 1.4;
        }

        .user-message {
            background-color: #d1e7fd; /* Light blue for user */
            color: #0a58ca;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }

        .assistant-message {
            background-color: #e9ecef; /* Light grey for assistant */
            color: #343a40;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }

        .error-message {
            background-color: #f8d7da;
            color: #842029;
            align-self: center;
            width: 90%;
            text-align: center;
            font-style: italic;
        }

        #chat-input-area {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ccc;
            background-color: #f8f9fa;
        }

        #chat-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            margin-right: 5px;
            resize: none; /* Prevent textarea resizing */
            min-height: 40px; /* Start height */
            max-height: 120px; /* Limit height */
            overflow-y: auto; /* Scroll if needed */
            box-sizing: border-box;
        }

        #chat-send-button { /* Optional send button styling */
            padding: 10px 15px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Spinner */
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin: 10px auto; /* Center in chat area */
            align-self: center; /* Position in flex column */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- Sources Popup Styles --- */
        .popup-overlay {
            position: absolute; /* Position relative to the sidebar */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent background */
            /* Use Flexbox to center */
            display: flex; /* Changed from none */
            align-items: center;
            justify-content: center;
            z-index: 1005; /* Ensure it's above chat messages */
            padding: 15px;
            box-sizing: border-box;
            /* Initially hidden using a class */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0s linear 0.3s; /* Transition */
        }

        .popup-overlay.visible { /* Class to make it visible */
            opacity: 1;
            visibility: visible;
            transition: opacity 0.3s ease, visibility 0s linear 0s;
        }


        .popup-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            max-width: 95%;
            width: 90%; /* Give it a specific width */
            max-height: 85%; /* Adjust max height */
            overflow-y: auto;
            position: relative; /* For positioning the close button */
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            color: #333; /* Ensure text is readable */
            transform: scale(0.9); /* Optional: add a subtle scale effect */
            transition: transform 0.3s ease;
        }

        .popup-overlay.visible .popup-content {
             transform: scale(1);
        }

        .popup-content h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #154273; /* Match theme */
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        #sources-popup-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 24px;
            line-height: 1;
            cursor: pointer;
            color: #888;
            padding: 5px; /* Increase clickable area slightly */
        }
         #sources-popup-close:hover {
            color: #333;
         }

        #sources-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #sources-list li {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
         #sources-list li:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
         }

        #sources-list span {
            display: block;
            font-size: 0.9em;
            margin-bottom: 4px;
            color: #555;
        }
        #sources-list span strong {
            color: #333;
            margin-right: 5px;
        }

        #sources-list a {
            color: #0d6efd; /* Standard link color */
            text-decoration: none;
            word-break: break-all; /* Prevent long URLs from overflowing */
        }
        #sources-list a:hover {
            text-decoration: underline;
        }

        /* Button to trigger the popup */
        .view-sources-button {
            display: block; /* Place it below the message */
            margin-top: 8px; /* Space between message and button */
            margin-left: auto; /* Align to right if desired, or remove for left align */
            margin-right: 0;  /* Align to right if desired */
            padding: 5px 10px;
            font-size: 0.85em;
            background-color: #e9ecef;
            color: #343a40;
            border: 1px solid #ced4da;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .view-sources-button:hover {
            background-color: #d6dce1;
        }

    </style>
    <!-- END: Chat Sidebar CSS -->

</head>

<body class="h-entry toc-inline">
    <div class="head">
        <a class="logo" href="https://www.logius.nl/onze-dienstverlening/standaarden"><img alt="Logius" height="77" id="Logius" src="https://gitdocumentatie.logius.nl/publicatie/respec/style/logos/figure-logius.svg" width="44">
      </a> <h1 id="title" class="title">NLGov REST API Design Rules 2.0.2</h1>

        <h2>
          Logius Standard<br>
          Definitive version
          <time class="dt-published" datetime="2025-02-17">February 17, 2025</time>
        </h2>
        <dl>
          <dt>This version:</dt><dd class="status">
                  <a class="u-url status" href="https://gitdocumentatie.logius.nl/publicatie/api/adr/2.0.2/">https://gitdocumentatie.logius.nl/publicatie/api/adr/2.0.2/</a>
                </dd>
          <dt>Latest published version:</dt><dd>
                  <a href="https://gitdocumentatie.logius.nl/publicatie/api/adr/">https://gitdocumentatie.logius.nl/publicatie/api/adr/</a>
                </dd>
          <dt>Latest editor's draft:</dt><dd><a href="https://logius-standaarden.github.io/API-Design-Rules/">https://logius-standaarden.github.io/API-Design-Rules/</a></dd>



          <dt>Previous version:</dt><dd><a href="https://gitdocumentatie.logius.nl/publicatie/api/adr/2.0.1/">https://gitdocumentatie.logius.nl/publicatie/api/adr/2.0.1/</a></dd>

          <dt>Editors:</dt>
          <dd class="editor p-author h-card vcard">
        <span class="p-name fn">Frank Terpstra</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">Geonovum</a>)
      </dd><dd class="editor p-author h-card vcard">
        <span class="p-name fn">Jan van Gelder</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">Geonovum</a>)
      </dd><dd class="editor p-author h-card vcard">
        <span class="p-name fn">Alexander Green</span> (<a class="p-org org h-org" href="https://www.logius.nl">Logius</a>)
      </dd><dd class="editor p-author h-card vcard">
        <span class="p-name fn">Martin van der Plas</span> (<a class="p-org org h-org" href="https://www.logius.nl">Logius</a>)
      </dd>

          <dt>Authors:</dt><dd class="editor p-author h-card vcard">
        <span class="p-name fn">Jasper Roes</span> (<a class="p-org org h-org" href="https://www.kadaster.nl">Het Kadaster</a>)
      </dd><dd class="editor p-author h-card vcard">
        <span class="p-name fn">Joost Farla</span> (<a class="p-org org h-org" href="https://www.kadaster.nl">Het Kadaster</a>)
      </dd>
          <dt>Participate:</dt><dd>
        <a href="https://github.com/Logius-standaarden/API-Design-Rules/">GitHub Logius-standaarden/API-Design-Rules</a>
      </dd><dd>
        <a href="https://github.com/Logius-standaarden/API-Design-Rules/issues/">File an issue</a>
      </dd><dd>
        <a href="https://github.com/Logius-standaarden/API-Design-Rules/commits/">Commit history</a>
      </dd><dd>
        <a href="https://github.com/Logius-standaarden/API-Design-Rules/pulls/">Pull requests</a>
      </dd>
        </dl>


        <p>
              This document is also available in these non-normative format:
              <a rel="alternate" href="API-Design-Rules.pdf">pdf</a>
            </p>
        <p class="copyright">
                This document is licensed under
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode" class="subfoot"><img class="license" src="https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by.svg" alt="Logo Creative Commons Attribution 4.0 International Public License"><br> Creative Commons Attribution 4.0 International Public License</a>
              </p>
        <hr title="Separator for header">
      </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2><p>This document contains a normative standard for designing APIs in the Dutch Public Sector.
        <a href="https://gitdocumentatie.logius.nl/publicatie/api/beheermodel/">The Governance of this standard</a> is described by the API-Standaarden beheermodel in a <a href="https://github.com/Logius-standaarden/API-Standaarden-Beheermodel/">separate repository</a> and published by Logius.
        This document is part of the <em>Nederlandse API Strategie</em>, which consists of <a href="https://www.geonovum.nl/themas/kennisplatform-apis#APIStrategie">a set of documents</a>.</p>
    </section>
    <section class="notoc" id="conformance"><div class="header-wrapper"><h2 id="conformance-0">Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for this Section"></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
            The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, and <em class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
    </section>
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p>This is the definitive version of this document. Edits resulting from consultations have been applied.</p></section>
    <nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#goal"><bdi class="secno">1.1 </bdi>Goal</a></li><li class="tocline"><a class="tocxref" href="#status"><bdi class="secno">1.2 </bdi>Status</a></li><li class="tocline"><a class="tocxref" href="#authors"><bdi class="secno">1.3 </bdi>Authors</a></li><li class="tocline"><a class="tocxref" href="#reading-guide"><bdi class="secno">1.4 </bdi>Reading Guide</a></li><li class="tocline"><a class="tocxref" href="#extensions"><bdi class="secno">1.5 </bdi>Extensions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#summary"><bdi class="secno">2. </bdi>Summary</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-design-rules"><bdi class="secno">2.1 </bdi>Normative Design Rules</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#list-of-functional-rules"><bdi class="secno">2.1.1 </bdi>List of functional rules</a></li><li class="tocline"><a class="tocxref" href="#list-of-technical-rules"><bdi class="secno">2.1.2 </bdi>List of technical rules</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#the-core-set-of-design-rules"><bdi class="secno">3. </bdi>The core set of Design Rules</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#resources"><bdi class="secno">3.1 </bdi>Resources</a></li><li class="tocline"><a class="tocxref" href="#http-methods"><bdi class="secno">3.2 </bdi>HTTP methods</a></li><li class="tocline"><a class="tocxref" href="#statelessness"><bdi class="secno">3.3 </bdi>Statelessness</a></li><li class="tocline"><a class="tocxref" href="#relationships"><bdi class="secno">3.4 </bdi>Relationships</a></li><li class="tocline"><a class="tocxref" href="#operations"><bdi class="secno">3.5 </bdi>Operations</a></li><li class="tocline"><a class="tocxref" href="#documentation"><bdi class="secno">3.6 </bdi>Documentation</a></li><li class="tocline"><a class="tocxref" href="#versioning"><bdi class="secno">3.7 </bdi>Versioning</a></li><li class="tocline"><a class="tocxref" href="#transport-security"><bdi class="secno">3.8 </bdi>Transport Security</a></li><li class="tocline"><a class="tocxref" href="#geospatial"><bdi class="secno">3.9 </bdi>Geospatial</a></li></ol></li><li class="tocline"><a class="tocxref" href="#glossary"><bdi class="secno">4. </bdi>Glossary</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2 </bdi>Informative references</a></li></ol></li></ol></nav>
    <div>
        <!-- Status table omitted for brevity -->
    </div>

    <section class="informative" id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div><p><em>This section is non-normative.</em></p>
        <section id="goal"><div class="header-wrapper"><h3 id="x1-1-goal"><bdi class="secno">1.1 </bdi>Goal</h3><a class="self-link" href="#goal" aria-label="Permalink for Section 1.1"></a></div>
        <p>More and more governmental organizations offer REST APIs (henceforth abbreviated as APIs), in addition to existing interfaces like SOAP and WFS. These APIs aim to be developer-friendly and easy to implement. While this is a commendable aim, it does not shield a developer from a steep learning curve getting to know every new API, in particular when every individual API is designed using different patterns and conventions.</p>
        <p>This document aims to describe a widely applicable set of design rules for the unambiguous provisioning of REST APIs. The primary goal is to offer guidance for organizations designing new APIs, with the purpose of increasing developer experience (DX) and interoperability between APIs. Hopefully, many organizations will adopt these design rules in their corporate API strategies and provide feedback about exceptions and additions to subsequently improve these design rules.</p>
        </section><section id="status"><div class="header-wrapper"><h3 id="x1-2-status"><bdi class="secno">1.2 </bdi>Status</h3><a class="self-link" href="#status" aria-label="Permalink for Section 1.2"></a></div>
        <p>This version of the design rules has been submitted to Forum Standaardisatie for inclusion on the Comply or Explain list of mandatory standards in the Dutch Public Sector. This document originates from the document <a href="https://docs.geostandaarden.nl/api/vv-hr-API-Strategie-20190715/">API Strategie voor de Nederlandse Overheid</a>, which was recently split into separate sub-documents.</p>
        </section><section id="authors"><div class="header-wrapper"><h3 id="x1-3-authors"><bdi class="secno">1.3 </bdi>Authors</h3><a class="self-link" href="#authors" aria-label="Permalink for Section 1.3"></a></div>
        <p>Despite the fact that two authors are mentioned in the list of authors, this document is the result of a collaborative effort by the members of the <em>API Design Rules Working Group</em>.</p>
        </section><section id="reading-guide"><div class="header-wrapper"><h3 id="x1-4-reading-guide"><bdi class="secno">1.4 </bdi>Reading Guide</h3><a class="self-link" href="#reading-guide" aria-label="Permalink for Section 1.4"></a></div>
        <p>This document is part of the <em>Nederlandse API Strategie</em>.</p>
        <p>The Nederlandse API Strategie consists of <a href="https://www.geonovum.nl/themas/kennisplatform-apis#APIStrategie">a set of distinct documents</a>.</p>
        <!-- Table of NL API Strategie docs omitted for brevity -->
        <p>Before reading this document it is advised to gain knowledge of the informative documents, in particular the <a href="https://geonovum.github.io/KP-APIs/API-strategie-algemeen/Architectuur/">Architecture</a>.</p>
        <p>An overview of all current documents is available in this Dutch infographic:</p>
        <figure id="fig-nl-api-strategie-infographic">
        <object data="https://geonovum.github.io/KP-APIs/media/API_infographic.svg" type="image/svg+xml" id="infographic">NL API Strategie Infographic</object>
        <figcaption><a class="self-link" href="#fig-nl-api-strategie-infographic">Figure <bdi class="figno">1</bdi></a> <span class="fig-title">NL API Strategie Infographic</span></figcaption>
        </figure>

        </section><section id="extensions"><div class="header-wrapper"><h3 id="x1-5-extensions"><bdi class="secno">1.5 </bdi>Extensions</h3><a class="self-link" href="#extensions" aria-label="Permalink for Section 1.5"></a></div>
        <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><aside class="">
        In addition to this (normative) document, separate modules are being written to provide a set of extensions. These modules are all separate documents and exists in a <a href="https://geonovum.github.io/KP-APIs/">latest editor's draft</a> (<i>Werkversie</i> in Dutch). The latest editor's draft is actively being worked on and can be found on <a href="https://github.com/Geonovum/KP-APIs">GitHub</a>. It contains the most recent changes.
        </aside></div></section>
    </section>
    <section id="summary"><div class="header-wrapper"><h2 id="x2-summary"><bdi class="secno">2. </bdi>Summary</h2><a class="self-link" href="#summary" aria-label="Permalink for Section 2."></a></div>
        <section id="normative-design-rules"><div class="header-wrapper"><h3 id="x2-1-normative-design-rules"><bdi class="secno">2.1 </bdi>Normative Design Rules</h3><a class="self-link" href="#normative-design-rules" aria-label="Permalink for Section 2.1"></a></div>
        <p>Design rules can be technical rules, which should be tested automatically and functional rules which should be considerd when designing and building the api.</p>
        <section id="list-of-functional-rules"><div class="header-wrapper"><h4 id="x2-1-1-list-of-functional-rules"><bdi class="secno">2.1.1 </bdi>List of functional rules</h4><a class="self-link" href="#list-of-functional-rules" aria-label="Permalink for Section 2.1.1"></a></div>
         <!-- List omitted for brevity -->
        </section><section id="list-of-technical-rules"><div class="header-wrapper"><h4 id="x2-1-2-list-of-technical-rules"><bdi class="secno">2.1.2 </bdi>List of technical rules</h4><a class="self-link" href="#list-of-technical-rules" aria-label="Permalink for Section 2.1.2"></a></div>
         <!-- List omitted for brevity -->
        </section>
        </section>
    </section>
    <section id="the-core-set-of-design-rules"><div class="header-wrapper"><h2 id="x3-the-core-set-of-design-rules"><bdi class="secno">3. </bdi>The core set of Design Rules</h2><a class="self-link" href="#the-core-set-of-design-rules" aria-label="Permalink for Section 3."></a></div>
        <!-- Sections 3.1 to 3.9 content omitted for brevity, keep the structure if needed -->
        <section id="resources"><h3>3.1 Resources</h3>...</section>
        <section id="http-methods"><h3>3.2 HTTP methods</h3>...</section>
        <section id="statelessness"><h3>3.3 Statelessness</h3>...</section>
        <section id="relationships"><h3>3.4 Relationships</h3>...</section>
        <section id="operations"><h3>3.5 Operations</h3>...</section>
        <section id="documentation"><h3>3.6 Documentation</h3>...</section>
        <section id="versioning"><h3>3.7 Versioning</h3>...</section>
        <section id="transport-security"><h3>3.8 Transport Security</h3>...</section>
        <section id="geospatial"><h3>3.9 Geospatial</h3>...</section>
    </section>
    <section id="glossary"><div class="header-wrapper"><h2 id="x4-glossary"><bdi class="secno">4. </bdi>Glossary</h2><a class="self-link" href="#glossary" aria-label="Permalink for Section 4."></a></div>
       <!-- Glossary definitions omitted for brevity -->
    </section>


    <section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div>
        <section id="normative-references">
            <div class="header-wrapper"><h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a></div>
            <!-- Bibliography omitted for brevity -->
            </dl>
        </section><section id="informative-references">
            <div class="header-wrapper"><h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix A.2"></a></div>
             <!-- Bibliography omitted for brevity -->
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <!-- DFN panels omitted for brevity -->
    {% verbatim %}
    <script id="respec-dfn-panel">(() => { /* Respec DFN Panel script omitted for brevity */ })()</script>
    {% endverbatim %}
    <div class="sidelabel">Logius Standard - Definitive version</div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>

    <!-- START: Chat Sidebar HTML -->
    <!-- Chat Toggle Button -->
    <button id="chat-toggle-button" aria-label="Open Chat">💬</button>

    <!-- Chat Sidebar -->
    <aside id="chat-sidebar" aria-hidden="true">
        <div id="chat-header">
            <span>Logius Chatbot</span>
            <button id="chat-close-button" aria-label="Close Chat">×</button>
        </div>
        <div id="chat-messages">
            <!-- Chat messages will be added here -->
             <div class="message assistant-message">Stel hier de vraag over de standaarden</div>
        </div>
        <div id="chat-input-area">
            <textarea id="chat-input" placeholder="..." rows="1"></textarea>
            <!-- Optional: Add a send button if needed -->
            <!-- <button id="chat-send-button">Send</button> -->
        </div>

        <!-- START: Sources Popup (Modal) -->
        <!-- Use CSS class 'popup-overlay' and 'visible' for control -->
        <div id="sources-popup" class="popup-overlay">
            <div class="popup-content">
                <h3>Sources</h3>
                <ul id="sources-list">
                    <!-- Source items will be dynamically added here -->
                </ul>
                <button id="sources-popup-close" aria-label="Close Sources">×</button>
            </div>
        </div>
        <!-- END: Sources Popup (Modal) -->

    </aside>
    <!-- END: Chat Sidebar HTML -->

    <!-- START: Chat Sidebar JavaScript -->
    <script>
    (function() {
        // --- DOM Elements ---
        const toggleButton = document.getElementById('chat-toggle-button');
        const sidebar = document.getElementById('chat-sidebar');
        const closeButton = document.getElementById('chat-close-button');
        const messagesContainer = document.getElementById('chat-messages');
        const inputField = document.getElementById('chat-input');
        // const sendButton = document.getElementById('chat-send-button');

        // Sources Popup Elements
        const sourcesPopup = document.getElementById('sources-popup');
        const sourcesList = document.getElementById('sources-list');
        const sourcesPopupClose = document.getElementById('sources-popup-close');

        // --- State ---
        let isOpen = false;
        let chatId = null;
        let isLoading = false;

        // --- Configuration ---
        const API_BASE_URL = 'http://localhost:8000/api'; // Your backend API base URL

        // --- Helper Functions ---

        function getCookie(name) { // --- CSRF Token ---
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        const csrftoken = getCookie('csrftoken');

        function addMessageToChat(text, sender, docs = null) {
            const existingLoader = messagesContainer.querySelector('.loader');
            if (existingLoader) {
                messagesContainer.removeChild(existingLoader);
            }

            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(sender === 'user' ? 'user-message' : sender === 'assistant' ? 'assistant-message' : 'error-message');

            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
            messageElement.innerHTML = text.replace(/\n/g, '<br>');
            messagesContainer.appendChild(messageElement);

            // Add "View Sources" button if needed
            if (sender === 'assistant' && docs && docs.length > 0) {
                const viewSourcesButton = document.createElement('button');
                viewSourcesButton.textContent = 'View Sources (' + docs.length + ')';
                viewSourcesButton.classList.add('view-sources-button');
                viewSourcesButton.setAttribute('data-sources', JSON.stringify(docs));
                // Use event delegation later instead of attaching listener here
                // viewSourcesButton.addEventListener('click', handleViewSourcesClick);
                 messageElement.insertAdjacentElement('afterend', viewSourcesButton);
            }

            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showLoader() {
            if (!messagesContainer.querySelector('.loader')) {
                const loader = document.createElement('div');
                loader.className = 'loader';
                messagesContainer.appendChild(loader);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        }

        function hideLoader() {
            const loader = messagesContainer.querySelector('.loader');
            if (loader) {
                messagesContainer.removeChild(loader);
            }
        }

        // --- Modified: showSourcesPopup uses class ---
        function showSourcesPopup(docs) {
            console.log("Showing popup with docs:", docs); // Debug log
            sourcesList.innerHTML = ''; // Clear previous sources
            if (!docs || docs.length === 0) {
                sourcesList.innerHTML = '<li>No sources available for this response.</li>';
            } else {
                docs.forEach(doc => {
                    const li = document.createElement('li');
                    const titleSpan = document.createElement('span');
                    titleSpan.innerHTML = `<strong>Title:</strong> ${doc.doc_tag || 'N/A'}`;

                    const urlSpan = document.createElement('span');
                    const urlLink = document.createElement('a');
                    urlLink.href = doc.chunk_url || '#';
                    urlLink.textContent = doc.chunk_url || 'N/A';
                    urlLink.target = '_blank';
                    urlLink.rel = 'noopener noreferrer';

                    urlSpan.innerHTML = '<strong>Url:</strong> ';
                    urlSpan.appendChild(urlLink);

                    li.appendChild(titleSpan);
                    li.appendChild(urlSpan);
                    sourcesList.appendChild(li);
                });
            }
            // Use class to show
            sourcesPopup.classList.add('visible');
        }

        // --- Modified: hideSourcesPopup uses class ---
        function hideSourcesPopup() {
             console.log("Hiding popup"); // Debug log
             sourcesPopup.classList.remove('visible');
        }

        // --- API Interaction ---

        async function fetchChatSession() {
             if (isLoading) return;
            isLoading = true;
            console.log("Requesting new chat session...");
            try {
                const response = await fetch(`${API_BASE_URL}/chat/session/`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json', 'X-CSRFToken': csrftoken },
                    body: JSON.stringify({})
                });
                if (!response.ok) {
                     const errorData = await response.json().catch(() => ({ error: "Unknown server error" }));
                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                if (data.chat_id) {
                    chatId = data.chat_id;
                    return chatId;
                } else { throw new Error("No chat_id received."); }
            } catch (error) {
                console.error("Error fetching chat session:", error);
                addMessageToChat(`Error starting chat: ${error.message}. Please try again.`, 'error');
                chatId = null;
                return null;
            } finally { isLoading = false; }
        }

        async function sendMessage(message) {
            if (!chatId) {
                 const newChatId = await fetchChatSession();
                 if (!newChatId) {
                    addMessageToChat("Chat session not active. Please try again.", 'error');
                    return;
                 }
            }
            if (isLoading) return;

            isLoading = true;
            inputField.disabled = true;

            addMessageToChat(message, 'user');
            inputField.value = '';
            inputField.style.height = 'auto';
            inputField.style.height = inputField.scrollHeight + 'px';

            showLoader();

            try {
                const response = await fetch(`${API_BASE_URL}/chat/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'X-CSRFToken': csrftoken },
                    body: JSON.stringify({ query: message, chat_id: chatId })
                });
                 hideLoader();
                if (!response.ok) {
                     const errorData = await response.json().catch(() => ({ error: "Unknown server error" }));
                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                if (data.response) {
                    addMessageToChat(data.response, 'assistant', data.docs || []);
                } else if (data.error) {
                    addMessageToChat(data.error, 'error');
                } else {
                     addMessageToChat("Unexpected response from server.", 'error');
                }
            } catch (error) {
                console.error("Error sending message:", error);
                hideLoader();
                addMessageToChat(`Error: ${error.message || "Could not connect."}`, 'error');
            } finally {
                isLoading = false;
                inputField.disabled = false;
                inputField.focus();
            }
        }

        // --- Event Handlers ---

        async function toggleChat() { // Handles sidebar open/close
            if (isLoading && !isOpen) return;

            if (isOpen) {
                sidebar.classList.remove('is-open');
                sidebar.setAttribute('aria-hidden', 'true');
                hideSourcesPopup(); // Also hide popup when sidebar closes
                isOpen = false;
            } else {
                if (!chatId) {
                    const newChatId = await fetchChatSession();
                    if (!newChatId) return;
                }
                sidebar.classList.add('is-open');
                sidebar.setAttribute('aria-hidden', 'false');
                isOpen = true;
                inputField.focus();
            }
        }

        function handleInputKeypress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                const message = inputField.value.trim();
                if (message && !isLoading) { sendMessage(message); }
            }
        }

        function handleInputInput() {
             inputField.style.height = 'auto';
            inputField.style.height = (inputField.scrollHeight) + 'px';
        }


        // --- Initialization ---
        toggleButton.addEventListener('click', toggleChat);
        closeButton.addEventListener('click', toggleChat);
        inputField.addEventListener('keypress', handleInputKeypress);
        inputField.addEventListener('input', handleInputInput);

        // --- Popup Close Listeners ---
        sourcesPopupClose.addEventListener('click', hideSourcesPopup);
        sourcesPopup.addEventListener('click', (event) => {
            // Only close if the click is directly on the overlay (background)
            if (event.target === sourcesPopup) {
                hideSourcesPopup();
            }
        });

        // --- Event Delegation for "View Sources" Button ---
        // Listen for clicks on the messages container
        messagesContainer.addEventListener('click', (event) => {
            // Check if the clicked element is a view sources button
            if (event.target && event.target.classList.contains('view-sources-button')) {
                 console.log("View Sources button clicked"); // Debug log
                 const button = event.target;
                 try {
                    const sourcesData = JSON.parse(button.getAttribute('data-sources'));
                    showSourcesPopup(sourcesData);
                 } catch (e) {
                    console.error("Error parsing sources data on button:", e);
                 }
            }
        });


        // Close sidebar if user clicks outside of it
        document.addEventListener('click', (event) => {
             if (isOpen && !sidebar.contains(event.target) && !toggleButton.contains(event.target)) {
                 // Prevent closing if click is inside the sources popup CONTENT area
                 if (!event.target.closest('.popup-content')) {
                     // Prevent closing if click is on a Respec definition panel or trigger
                     if (!event.target.closest('.dfn-panel') && !event.target.closest('dfn, .index-term')) {
                         toggleChat();
                     }
                 }
            }
        });

         // Initial setup: Ensure sidebar & popup are hidden
        sidebar.classList.remove('is-open');
        sidebar.setAttribute('aria-hidden', 'true');
        sourcesPopup.classList.remove('visible'); // Use class


    })(); // IIFE
    </script>
    <!-- END: Chat Sidebar JavaScript -->

</body>
</html>